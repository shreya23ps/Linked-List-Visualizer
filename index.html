<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linked List Adventure - Who's Afraid of Linked Lists?</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #6366f1;
            --primary-light: #a5b4fc;
            --secondary: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --info: #3b82f6;
            --light: #f8fafc;
            --dark: #1e293b;
            --gray: #64748b;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --radius: 12px;
            --transition: all 0.3s ease;

            /* Light theme (default) */
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --text-color: #1e293b;
            --border-color: #e2e8f0;
            --hover-color: #f1f5f9;
        }

        .dark-theme {
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --text-color: #f1f5f9;
            --border-color: #334155;
            --hover-color: #334155;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: var(--text-color);
            min-height: 100vh;
            padding: 20px;
            transition: var(--transition);
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: headerSlide 1s ease-out;
        }

        @keyframes headerSlide {
            0% { transform: translateY(-50px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }

        .header-left h1 {
            font-size: 2.5rem;
            color: white;
            margin-bottom: 5px;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header-left .subtitle {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 500;
        }

        .theme-toggle {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50px;
            padding: 10px 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
            transition: var(--transition);
            color: white;
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        .main-content {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 30px;
        }

        @media (max-width: 1100px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .controls-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            gap: 20px;
            height: fit-content;
            position: sticky;
            top: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: slideInLeft 0.8s ease-out;
        }

        @keyframes slideInLeft {
            0% { transform: translateX(-50px); opacity: 0; }
            100% { transform: translateX(0); opacity: 1; }
        }

        .visualization-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: slideInRight 0.8s ease-out;
        }

        @keyframes slideInRight {
            0% { transform: translateX(50px); opacity: 0; }
            100% { transform: translateX(0); opacity: 1; }
        }

        .panel-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: white;
            display: flex;
            align-items: center;
            gap: 8px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        .input-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: white;
        }

        input, select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            transition: var(--transition);
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--primary-light);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
            background: rgba(255, 255, 255, 0.2);
        }

        input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .button-group {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            margin-top: 10px;
        }

        button {
            padding: 14px 20px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
        }

        button:hover::before {
            left: 100%;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        button:active {
            transform: translateY(0);
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-secondary {
            background: var(--secondary);
            color: white;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-warning {
            background: var(--warning);
            color: white;
        }

        .btn-info {
            background: var(--info);
            color: white;
        }

        .btn-light {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        /* Linked List Specific Styles */
        .linked-list-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            min-height: 200px;
            padding: 25px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            margin-bottom: 25px;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            border: 2px dashed rgba(255, 255, 255, 0.3);
            position: relative;
            overflow-x: auto;
        }

        .node {
            display: flex;
            align-items: center;
            position: relative;
            margin: 10px;
            animation: nodeAppear 0.5s ease-out;
        }

        @keyframes nodeAppear {
            0% { transform: scale(0); opacity: 0; }
            70% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }

        .node-value {
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            box-shadow: var(--shadow);
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            transition: var(--transition);
            position: relative;
            z-index: 2;
            border: 2px solid var(--primary);
            backdrop-filter: blur(5px);
        }

        .node-pointer {
            width: 40px;
            height: 4px;
            background: var(--primary);
            position: relative;
            animation: pointerPulse 2s infinite;
        }

        @keyframes pointerPulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }

        .node-pointer::after {
            content: '';
            position: absolute;
            right: -10px;
            top: -8px;
            width: 0;
            height: 0;
            border-left: 10px solid var(--primary);
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
        }

        .doubly-pointer {
            width: 40px;
            height: 4px;
            background: var(--primary);
            position: relative;
            animation: pointerPulse 2s infinite;
        }

        .doubly-pointer::before {
            content: '';
            position: absolute;
            left: -10px;
            top: -8px;
            width: 0;
            height: 0;
            border-right: 10px solid var(--primary);
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
        }

        .doubly-pointer::after {
            content: '';
            position: absolute;
            right: -10px;
            top: -8px;
            width: 0;
            height: 0;
            border-left: 10px solid var(--primary);
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
        }

        .circular-connector {
            position: absolute;
            bottom: -60px;
            left: 50%;
            width: 2px;
            height: 60px;
            background: var(--primary);
        }

        .circular-connector::after {
            content: '';
            position: absolute;
            bottom: -40px;
            left: -100px;
            width: 200px;
            height: 40px;
            border-bottom: 2px solid var(--primary);
            border-left: 2px solid var(--primary);
            border-right: 2px solid var(--primary);
            border-bottom-left-radius: 100px;
            border-bottom-right-radius: 100px;
        }

        .null-node {
            width: 70px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            box-shadow: var(--shadow);
            font-size: 1rem;
            font-weight: 700;
            color: rgba(255, 255, 255, 0.7);
            border: 2px dashed rgba(255, 255, 255, 0.3);
        }

        .list-type-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .list-type {
            text-align: center;
            padding: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
            color: white;
        }

        .list-type.active {
            background: var(--primary-light);
            color: white;
            border-color: var(--primary);
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .list-info {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            font-size: 0.9rem;
            line-height: 1.5;
            color: white;
        }

        .node.inserted {
            animation: slideIn 0.5s ease, bounce 0.5s ease 0.5s, nodeGlow 2s ease;
        }

        .node.deleted {
            animation: fadeOut 0.5s ease forwards, shrink 0.5s ease;
        }

        .node.updated {
            animation: colorChange 0.8s ease, pulse 1s ease;
        }

        .node.searching .node-value {
            animation: glow 0.8s ease infinite alternate, shake 0.5s ease infinite;
        }

        .node.found .node-value {
            background: var(--secondary);
            color: white;
            animation: bounce 0.5s ease, celebrate 1s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateX(-50px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes fadeOut {
            from {
                transform: scale(1);
                opacity: 1;
            }
            to {
                transform: scale(0);
                opacity: 0;
            }
        }

        @keyframes shrink {
            to {
                transform: scale(0);
            }
        }

        @keyframes colorChange {
            0% {
                background: rgba(255, 255, 255, 0.2);
            }
            50% {
                background: var(--info);
                color: white;
                transform: scale(1.1);
            }
            100% {
                background: rgba(255, 255, 255, 0.2);
            }
        }

        @keyframes glow {
            from {
                box-shadow: 0 0 5px var(--warning);
            }
            to {
                box-shadow: 0 0 20px var(--warning);
            }
        }

        @keyframes nodeGlow {
            0% { box-shadow: 0 0 5px var(--secondary); }
            50% { box-shadow: 0 0 20px var(--secondary); }
            100% { box-shadow: 0 0 5px var(--secondary); }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes celebrate {
            0% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.2) rotate(5deg); }
            50% { transform: scale(1.2) rotate(-5deg); }
            75% { transform: scale(1.2) rotate(5deg); }
            100% { transform: scale(1) rotate(0deg); }
        }

        .empty-state {
            text-align: center;
            color: rgba(255, 255, 255, 0.7);
            padding: 40px 20px;
        }

        .status-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 10px 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: white;
        }

        .list-length {
            font-weight: 600;
            color: var(--primary-light);
        }

        .operation-status {
            font-weight: 500;
            color: rgba(255, 255, 255, 0.8);
        }

        .error-message {
            color: var(--danger);
            font-size: 0.9rem;
            margin-top: 5px;
            display: none;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .clear-history {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: var(--transition);
        }

        .clear-history:hover {
            background: var(--danger);
            color: white;
            transform: scale(1.05);
        }

        .explanation-panel {
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
            margin-top: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .explanation-content {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 20px;
            max-height: 300px;
            overflow-y: auto;
            line-height: 1.6;
            color: white;
        }

        .step {
            margin-bottom: 10px;
            padding: 12px 15px;
            border-radius: 6px;
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            border-left: 4px solid var(--primary);
            animation: stepAppear 0.5s ease-out;
        }

        @keyframes stepAppear {
            0% { transform: translateX(-20px); opacity: 0; }
            100% { transform: translateX(0); opacity: 1; }
        }

        .step.insert {
            border-left-color: var(--secondary);
        }

        .step.delete {
            border-left-color: var(--danger);
        }

        .step.update {
            border-left-color: var(--info);
        }

        .step.search {
            border-left-color: var(--warning);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            animation: modalFadeIn 0.3s ease-out;
        }

        @keyframes modalFadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        .modal-content {
            background: rgba(255, 255, 255, 0.15);
            border-radius: var(--radius);
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            position: relative;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            0% { transform: translateY(-50px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: white;
            display: flex;
            align-items: center;
            gap: 10px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: rgba(255, 255, 255, 0.7);
            cursor: pointer;
            padding: 5px;
            transition: var(--transition);
        }

        .close-modal:hover {
            color: var(--danger);
            transform: scale(1.1);
        }

        .modal-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .modal-actions button {
            flex: 1;
        }

        /* Quick Actions */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .quick-action-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 10px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: var(--transition);
            color: white;
        }

        .quick-action-btn:hover {
            background: var(--primary-light);
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .quick-action-icon {
            font-size: 1.8rem;
            color: var(--primary-light);
        }

        .quick-action-btn:hover .quick-action-icon {
            color: white;
            animation: bounce 0.5s ease;
        }

        .quick-action-text {
            font-weight: 600;
            font-size: 0.9rem;
        }

        /* Horizontal Controls Bar */
        .horizontal-controls {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            flex-wrap: wrap;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .horizontal-control-group {
            display: flex;
            align-items: center;
            gap: 10px;
            color: white;
        }

        .horizontal-control-group label {
            margin-bottom: 0;
            font-weight: 500;
            white-space: nowrap;
        }

        .horizontal-control-group input {
            width: auto;
            min-width: 120px;
        }

        .horizontal-btn {
            padding: 10px 16px;
            font-size: 0.9rem;
        }

        .horizontal-btn i {
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .horizontal-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .horizontal-control-group {
                justify-content: space-between;
            }

            .horizontal-control-group input {
                flex: 1;
            }
        }

        /* Fun Elements */
        .fun-title {
            text-align: center;
            margin-bottom: 20px;
            animation: titleColorShift 5s infinite alternate;
        }

        @keyframes titleColorShift {
            0% { color: #ff9a9e; }
            25% { color: #fad0c4; }
            50% { color: #a1c4fd; }
            75% { color: #c2e9fb; }
            100% { color: #ff9a9e; }
        }

        .floating-element {
            position: absolute;
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
            z-index: -1;
        }

        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
            100% { transform: translateY(0) rotate(360deg); }
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: var(--secondary);
            opacity: 0;
            z-index: 1001;
        }

        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
            display: none;
        }

        .motivational-message {
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius);
            color: white;
            font-style: italic;
            animation: messagePulse 3s infinite;
        }

        @keyframes messagePulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }
    </style>
</head>
<body>
    <!-- Floating elements for visual interest -->
    <div class="floating-element" style="top: 10%; left: 5%; animation-delay: 0s;"></div>
    <div class="floating-element" style="top: 20%; right: 10%; animation-delay: 1s;"></div>
    <div class="floating-element" style="bottom: 15%; left: 15%; animation-delay: 2s;"></div>
    <div class="floating-element" style="bottom: 25%; right: 5%; animation-delay: 3s;"></div>

    <!-- Celebration animation container -->
    <div class="celebration" id="celebration"></div>

    <div class="container">
        <header>
            <div class="header-left">
                <h1 class="fun-title">Linked List Adventure</h1>
                <p class="subtitle">Who's Afraid of Linked Lists? Not You!</p>
            </div>
            <div class="theme-toggle" id="themeToggle">
                <i class="fas fa-moon"></i>
                <span>Dark Mode</span>
            </div>
        </header>

        <div class="main-content">
            <div class="controls-section">
                <div class="control-group">
                    <h2 class="panel-title">
                        <i class="fas fa-project-diagram"></i> List Type
                    </h2>
                    <div class="list-type-selector">
                        <div class="list-type active" data-type="singly">Singly</div>
                        <div class="list-type" data-type="doubly">Doubly</div>
                        <div class="list-type" data-type="circular">Circular</div>
                    </div>
                </div>
                
                <div class="control-group">
                    <h2 class="panel-title">
                        <i class="fas fa-bolt"></i> Quick Actions
                    </h2>
                    <div class="quick-actions">
                        <div class="quick-action-btn" id="insertHeadAction">
                            <div class="quick-action-icon">
                                <i class="fas fa-plus-circle"></i>
                            </div>
                            <div class="quick-action-text">Insert Head</div>
                        </div>
                        <div class="quick-action-btn" id="insertTailAction">
                            <div class="quick-action-icon">
                                <i class="fas fa-plus-square"></i>
                            </div>
                            <div class="quick-action-text">Insert Tail</div>
                        </div>
                        <div class="quick-action-btn" id="deleteHeadAction">
                            <div class="quick-action-icon">
                                <i class="fas fa-minus-circle"></i>
                            </div>
                            <div class="quick-action-text">Delete Head</div>
                        </div>
                        <div class="quick-action-btn" id="deleteTailAction">
                            <div class="quick-action-icon">
                                <i class="fas fa-minus-square"></i>
                            </div>
                            <div class="quick-action-text">Delete Tail</div>
                        </div>
                    </div>
                </div>
                
                <div class="control-group">
                    <h2 class="panel-title">
                        <i class="fas fa-cogs"></i> Advanced Operations
                    </h2>
                    <div class="button-group">
                        <button class="btn-secondary" id="insertAtAction">
                            <i class="fas fa-plus"></i> Insert At Index
                        </button>
                        <button class="btn-danger" id="deleteAtAction">
                            <i class="fas fa-minus"></i> Delete At Index
                        </button>
                        <button class="btn-warning" id="searchAction">
                            <i class="fas fa-search"></i> Search Value
                        </button>
                        <button class="btn-info" id="reverseAction">
                            <i class="fas fa-exchange-alt"></i> Reverse List
                        </button>
                        <button class="btn-light" id="clearAction">
                            <i class="fas fa-trash"></i> Clear List
                        </button>
                    </div>
                </div>
                
                <div class="control-group">
                    <h2 class="panel-title">
                        <i class="fas fa-info-circle"></i> List Information
                    </h2>
                    <div class="list-info">
                        <p><strong>Current List:</strong> <span id="currentListType">Singly Linked List</span></p>
                        <p><strong>Head:</strong> <span id="headValue">None</span></p>
                        <p><strong>Tail:</strong> <span id="tailValue">None</span></p>
                        <p><strong>Length:</strong> <span id="listLength">0</span></p>
                    </div>
                </div>

                <div class="motivational-message" id="motivationalMessage">
                    You're doing great! Keep exploring linked lists!
                </div>
            </div>
            
            <div class="visualization-section">
                <!-- Horizontal Controls Bar -->
                <div class="horizontal-controls">
                    <div class="horizontal-control-group">
                        <label for="animationSpeed">Animation Speed:</label>
                        <input type="range" id="animationSpeed" min="1" max="5" value="3">
                        <span id="speedValue">Medium</span>
                    </div>
                    
                    <button class="btn-primary horizontal-btn" id="generateBtn">
                        <i class="fas fa-dice"></i> Generate List
                    </button>
                    
                    <button class="btn-light horizontal-btn" id="resetBtn">
                        <i class="fas fa-redo"></i> Reset
                    </button>
                </div>

                <div class="status-bar">
                    <div class="list-length">List Length: <span id="listLengthDisplay">0</span></div>
                    <div class="operation-status" id="operationStatus">Ready to visualize linked list operations</div>
                </div>
                
                <div class="linked-list-container" id="linkedListContainer">
                    <div class="empty-state">
                        <p>Your linked list is empty. Add some nodes to get started!</p>
                    </div>
                </div>

                <!-- About Linked Lists Section -->
                <div class="explanation-panel">
                    <div class="history-header">
                        <div class="panel-title">
                            <i class="fas fa-history"></i> Operation History
                        </div>
                        <button class="clear-history" id="clearHistory">
                            <i class="fas fa-trash"></i> Clear History
                        </button>
                    </div>
                    <div class="explanation-content" id="explanationContent">
                        <div class="step">
                            <strong>Welcome to the Linked List Adventure!</strong><br>
                            This tool helps you understand how linked lists work by visualizing common operations. Use the quick actions to perform operations and see the results here.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Insert Head Modal -->
    <div class="modal" id="insertHeadModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-plus-circle"></i>
                    Insert at Head
                </div>
                <button class="close-modal">&times;</button>
            </div>
            <div class="input-group">
                <label for="insertHeadValue">Value (1-99)</label>
                <input type="number" id="insertHeadValue" placeholder="Enter a number" min="1" max="99">
                <div class="error-message" id="insertHeadValueError">Please enter a valid number between 1 and 99</div>
            </div>
            <div class="modal-actions">
                <button class="btn-light" id="cancelInsertHead">Cancel</button>
                <button class="btn-secondary" id="confirmInsertHead">Insert</button>
            </div>
        </div>
    </div>

    <!-- Insert Tail Modal -->
    <div class="modal" id="insertTailModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-plus-square"></i>
                    Insert at Tail
                </div>
                <button class="close-modal">&times;</button>
            </div>
            <div class="input-group">
                <label for="insertTailValue">Value (1-99)</label>
                <input type="number" id="insertTailValue" placeholder="Enter a number" min="1" max="99">
                <div class="error-message" id="insertTailValueError">Please enter a valid number between 1 and 99</div>
            </div>
            <div class="modal-actions">
                <button class="btn-light" id="cancelInsertTail">Cancel</button>
                <button class="btn-secondary" id="confirmInsertTail">Insert</button>
            </div>
        </div>
    </div>

    <!-- Insert At Index Modal -->
    <div class="modal" id="insertAtModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-plus"></i>
                    Insert at Index
                </div>
                <button class="close-modal">&times;</button>
            </div>
            <div class="input-group">
                <label for="insertAtValue">Value (1-99)</label>
                <input type="number" id="insertAtValue" placeholder="Enter a number" min="1" max="99">
                <div class="error-message" id="insertAtValueError">Please enter a valid number between 1 and 99</div>
            </div>
            <div class="input-group">
                <label for="insertAtIndex">Index</label>
                <input type="number" id="insertAtIndex" placeholder="Enter index position">
                <div class="error-message" id="insertAtIndexError">Please enter a valid index</div>
            </div>
            <div class="modal-actions">
                <button class="btn-light" id="cancelInsertAt">Cancel</button>
                <button class="btn-secondary" id="confirmInsertAt">Insert</button>
            </div>
        </div>
    </div>

    <!-- Delete At Index Modal -->
    <div class="modal" id="deleteAtModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-minus"></i>
                    Delete at Index
                </div>
                <button class="close-modal">&times;</button>
            </div>
            <div class="input-group">
                <label for="deleteAtIndex">Index</label>
                <input type="number" id="deleteAtIndex" placeholder="Enter index to delete">
                <div class="error-message" id="deleteAtIndexError">Please enter a valid index</div>
            </div>
            <div class="modal-actions">
                <button class="btn-light" id="cancelDeleteAt">Cancel</button>
                <button class="btn-danger" id="confirmDeleteAt">Delete</button>
            </div>
        </div>
    </div>

    <!-- Search Modal -->
    <div class="modal" id="searchModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-search"></i>
                    Search Value
                </div>
                <button class="close-modal">&times;</button>
            </div>
            <div class="input-group">
                <label for="searchValue">Value to Search (1-99)</label>
                <input type="number" id="searchValue" placeholder="Enter value to search" min="1" max="99">
                <div class="error-message" id="searchValueError">Please enter a valid number between 1 and 99</div>
            </div>
            <div class="modal-actions">
                <button class="btn-light" id="cancelSearch">Cancel</button>
                <button class="btn-warning" id="confirmSearch">Search</button>
            </div>
        </div>
    </div>

    <script>
        // Linked List state
        let listType = 'singly';
        let linkedList = [];
        let animationSpeed = 500; // Medium speed by default
        let operationHistory = [];

        // DOM Elements
        const linkedListContainer = document.getElementById('linkedListContainer');
        const listLengthDisplay = document.getElementById('listLengthDisplay');
        const operationStatus = document.getElementById('operationStatus');
        const animationSpeedSlider = document.getElementById('animationSpeed');
        const speedValue = document.getElementById('speedValue');
        const generateBtn = document.getElementById('generateBtn');
        const resetBtn = document.getElementById('resetBtn');
        const explanationContent = document.getElementById('explanationContent');
        const themeToggle = document.getElementById('themeToggle');
        const clearHistory = document.getElementById('clearHistory');
        const currentListType = document.getElementById('currentListType');
        const headValue = document.getElementById('headValue');
        const tailValue = document.getElementById('tailValue');
        const listLength = document.getElementById('listLength');
        const motivationalMessage = document.getElementById('motivationalMessage');
        const celebration = document.getElementById('celebration');

        // List type selector
        const listTypes = document.querySelectorAll('.list-type');

        // Quick action buttons
        const insertHeadAction = document.getElementById('insertHeadAction');
        const insertTailAction = document.getElementById('insertTailAction');
        const deleteHeadAction = document.getElementById('deleteHeadAction');
        const deleteTailAction = document.getElementById('deleteTailAction');
        const insertAtAction = document.getElementById('insertAtAction');
        const deleteAtAction = document.getElementById('deleteAtAction');
        const searchAction = document.getElementById('searchAction');
        const reverseAction = document.getElementById('reverseAction');
        const clearAction = document.getElementById('clearAction');

        // Modal elements
        const insertHeadModal = document.getElementById('insertHeadModal');
        const insertTailModal = document.getElementById('insertTailModal');
        const insertAtModal = document.getElementById('insertAtModal');
        const deleteAtModal = document.getElementById('deleteAtModal');
        const searchModal = document.getElementById('searchModal');

        // Motivational messages
        const motivationalMessages = [
            "You're doing great! Keep exploring linked lists!",
            "Linked lists are no match for your skills!",
            "Every operation brings you closer to linked list mastery!",
            "You're becoming a data structures expert!",
            "Who's afraid of linked lists? Not you!",
            "Your linked list skills are growing with every click!",
            "You're making complex concepts look easy!",
            "Keep going - you're on the path to coding greatness!"
        ];

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            updateListInfo();
            renderLinkedList();
            updateMotivationalMessage();

            // Event listeners
            generateBtn.addEventListener('click', generateRandomList);
            resetBtn.addEventListener('click', resetList);
            themeToggle.addEventListener('click', toggleTheme);
            clearHistory.addEventListener('click', clearOperationHistory);
            animationSpeedSlider.addEventListener('input', updateSpeed);

            // List type listeners
            listTypes.forEach(type => {
                type.addEventListener('click', () => {
                    listTypes.forEach(t => t.classList.remove('active'));
                    type.classList.add('active');
                    listType = type.getAttribute('data-type');
                    updateListInfo();
                    renderLinkedList();
                    addToHistory(`Switched to ${getListTypeName()}`, 'info');
                    updateMotivationalMessage();
                });
            });

            // Quick action listeners
            insertHeadAction.addEventListener('click', () => openModal('insertHead'));
            insertTailAction.addEventListener('click', () => openModal('insertTail'));
            deleteHeadAction.addEventListener('click', deleteHead);
            deleteTailAction.addEventListener('click', deleteTail);
            insertAtAction.addEventListener('click', () => openModal('insertAt'));
            deleteAtAction.addEventListener('click', () => openModal('deleteAt'));
            searchAction.addEventListener('click', () => openModal('search'));
            reverseAction.addEventListener('click', reverseList);
            clearAction.addEventListener('click', clearList);

            // Modal close listeners
            document.querySelectorAll('.close-modal').forEach(btn => {
                btn.addEventListener('click', closeAllModals);
            });

            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) closeAllModals();
                });
            });

            // Cancel button listeners
            document.getElementById('cancelInsertHead').addEventListener('click', closeAllModals);
            document.getElementById('cancelInsertTail').addEventListener('click', closeAllModals);
            document.getElementById('cancelInsertAt').addEventListener('click', closeAllModals);
            document.getElementById('cancelDeleteAt').addEventListener('click', closeAllModals);
            document.getElementById('cancelSearch').addEventListener('click', closeAllModals);

            // Confirm button listeners
            document.getElementById('confirmInsertHead').addEventListener('click', insertHead);
            document.getElementById('confirmInsertTail').addEventListener('click', insertTail);
            document.getElementById('confirmInsertAt').addEventListener('click', insertAt);
            document.getElementById('confirmDeleteAt').addEventListener('click', deleteAt);
            document.getElementById('confirmSearch').addEventListener('click', searchValue);
        });

        // Generate random linked list
        function generateRandomList() {
            const size = Math.floor(Math.random() * 5) + 3; // 3 to 7 nodes
            linkedList = [];

            for (let i = 0; i < size; i++) {
                linkedList.push({
                    value: Math.floor(Math.random() * 99) + 1,
                    next: i < size - 1 ? i + 1 : null,
                    prev: listType === 'doubly' && i > 0 ? i - 1 : null
                });
            }

            // For circular list, connect last node to first
            if (listType === 'circular' && linkedList.length > 0) {
                linkedList[linkedList.length - 1].next = 0;
                if (listType === 'doubly') {
                    linkedList[0].prev = linkedList.length - 1;
                }
            }

            updateListInfo();
            renderLinkedList();
            addToHistory(`Generated a new random ${getListTypeName()} with ${size} nodes.`, 'info');
            operationStatus.textContent = 'List generated';
            updateMotivationalMessage();
            createConfetti();
        }

        // Reset list
        function resetList() {
            linkedList = [];
            updateListInfo();
            renderLinkedList();
            addToHistory('List has been reset. It is now empty.', 'info');
            operationStatus.textContent = 'List reset';
            updateMotivationalMessage();
        }

        // Insert at head
        function insertHead() {
            const value = parseInt(document.getElementById('insertHeadValue').value);

            if (isNaN(value) || value < 1 || value > 99) {
                showError('insertHeadValueError');
                return;
            }

            // Create new node
            const newNode = {
                value: value,
                next: linkedList.length > 0 ? 0 : null,
                prev: null
            };

            // Update existing nodes
            for (let i = 0; i < linkedList.length; i++) {
                if (linkedList[i].next !== null) linkedList[i].next++;
                if (linkedList[i].prev !== null) linkedList[i].prev++;
            }

            // Insert at beginning
            linkedList.unshift(newNode);

            // For circular list, update last node's next pointer
            if (listType === 'circular' && linkedList.length > 1) {
                linkedList[linkedList.length - 1].next = 0;
            }

            // For doubly linked list, update second node's prev pointer
            if (listType === 'doubly' && linkedList.length > 1) {
                linkedList[1].prev = 0;
            }

            updateListInfo();
            renderLinkedList();

            // Highlight the inserted node
            const nodes = linkedListContainer.querySelectorAll('.node');
            if (nodes[0]) {
                nodes[0].classList.add('inserted');
                setTimeout(() => {
                    nodes[0].classList.remove('inserted');
                }, 1500);
            }

            addToHistory(`Inserted value ${value} at the head. The list now has ${linkedList.length} nodes.`, 'insert');
            operationStatus.textContent = `Inserted ${value} at head`;

            // Clear input and close modal
            document.getElementById('insertHeadValue').value = '';
            closeAllModals();
            updateMotivationalMessage();
        }

        // Insert at tail
        function insertTail() {
            const value = parseInt(document.getElementById('insertTailValue').value);

            if (isNaN(value) || value < 1 || value > 99) {
                showError('insertTailValueError');
                return;
            }

            // Create new node
            const newNode = {
                value: value,
                next: listType === 'circular' && linkedList.length > 0 ? 0 : null,
                prev: listType === 'doubly' && linkedList.length > 0 ? linkedList.length - 1 : null
            };

            // Update previous tail's next pointer
            if (linkedList.length > 0) {
                linkedList[linkedList.length - 1].next = linkedList.length;
            }

            // Insert at end
            linkedList.push(newNode);

            updateListInfo();
            renderLinkedList();

            // Highlight the inserted node
            const nodes = linkedListContainer.querySelectorAll('.node');
            if (nodes[linkedList.length - 1]) {
                nodes[linkedList.length - 1].classList.add('inserted');
                setTimeout(() => {
                    nodes[linkedList.length - 1].classList.remove('inserted');
                }, 1500);
            }

            addToHistory(`Inserted value ${value} at the tail. The list now has ${linkedList.length} nodes.`, 'insert');
            operationStatus.textContent = `Inserted ${value} at tail`;

            // Clear input and close modal
            document.getElementById('insertTailValue').value = '';
            closeAllModals();
            updateMotivationalMessage();
        }

        // Insert at index
        function insertAt() {
            const value = parseInt(document.getElementById('insertAtValue').value);
            const index = parseInt(document.getElementById('insertAtIndex').value);

            if (isNaN(value) || value < 1 || value > 99) {
                showError('insertAtValueError');
                return;
            }

            if (isNaN(index) || index < 0 || index > linkedList.length) {
                showError('insertAtIndexError');
                return;
            }

            // Handle edge cases
            if (index === 0) {
                insertHead();
                return;
            } else if (index === linkedList.length) {
                insertTail();
                return;
            }

            // Create new node
            const newNode = {
                value: value,
                next: index,
                prev: listType === 'doubly' ? index - 1 : null
            };

            // Update existing nodes
            for (let i = 0; i < linkedList.length; i++) {
                if (linkedList[i].next !== null && linkedList[i].next >= index) linkedList[i].next++;
                if (linkedList[i].prev !== null && linkedList[i].prev >= index) linkedList[i].prev++;
            }

            // Update the node before the insertion point
            linkedList[index - 1].next = index;

            // Insert at position
            linkedList.splice(index, 0, newNode);

            // For doubly linked list, update the node after the insertion point
            if (listType === 'doubly' && index < linkedList.length - 1) {
                linkedList[index + 1].prev = index;
            }

            updateListInfo();
            renderLinkedList();

            // Highlight the inserted node
            const nodes = linkedListContainer.querySelectorAll('.node');
            if (nodes[index]) {
                nodes[index].classList.add('inserted');
                setTimeout(() => {
                    nodes[index].classList.remove('inserted');
                }, 1500);
            }

            addToHistory(`Inserted value ${value} at index ${index}. The list now has ${linkedList.length} nodes.`, 'insert');
            operationStatus.textContent = `Inserted ${value} at index ${index}`;

            // Clear inputs and close modal
            document.getElementById('insertAtValue').value = '';
            document.getElementById('insertAtIndex').value = '';
            closeAllModals();
            updateMotivationalMessage();
        }

        // Delete head
        function deleteHead() {
            if (linkedList.length === 0) {
                addToHistory('List is empty. Nothing to delete.', 'info');
                operationStatus.textContent = 'List is empty';
                return;
            }

            const deletedValue = linkedList[0].value;

            // Highlight the node to be deleted
            const nodes = linkedListContainer.querySelectorAll('.node');
            if (nodes[0]) {
                nodes[0].classList.add('deleted');

                // Remove the node after animation
                setTimeout(() => {
                    // Update existing nodes
                    for (let i = 0; i < linkedList.length; i++) {
                        if (linkedList[i].next !== null) linkedList[i].next--;
                        if (linkedList[i].prev !== null) linkedList[i].prev--;
                    }

                    // Remove first node
                    linkedList.shift();

                    // For circular list, update last node's next pointer
                    if (listType === 'circular' && linkedList.length > 0) {
                        linkedList[linkedList.length - 1].next = 0;
                    }

                    updateListInfo();
                    renderLinkedList();
                }, 500);
            }

            addToHistory(`Deleted value ${deletedValue} from the head. The list now has ${linkedList.length - 1} nodes.`, 'delete');
            operationStatus.textContent = `Deleted ${deletedValue} from head`;
            updateMotivationalMessage();
        }

        // Delete tail
        function deleteTail() {
            if (linkedList.length === 0) {
                addToHistory('List is empty. Nothing to delete.', 'info');
                operationStatus.textContent = 'List is empty';
                return;
            }

            const deletedValue = linkedList[linkedList.length - 1].value;

            // Highlight the node to be deleted
            const nodes = linkedListContainer.querySelectorAll('.node');
            if (nodes[linkedList.length - 1]) {
                nodes[linkedList.length - 1].classList.add('deleted');

                // Remove the node after animation
                setTimeout(() => {
                    // Remove last node
                    linkedList.pop();

                    // Update the new tail's next pointer
                    if (linkedList.length > 0) {
                        linkedList[linkedList.length - 1].next = listType === 'circular' ? 0 : null;
                    }

                    updateListInfo();
                    renderLinkedList();
                }, 500);
            }

            addToHistory(`Deleted value ${deletedValue} from the tail. The list now has ${linkedList.length - 1} nodes.`, 'delete');
            operationStatus.textContent = `Deleted ${deletedValue} from tail`;
            updateMotivationalMessage();
        }

        // Delete at index
        function deleteAt() {
            const index = parseInt(document.getElementById('deleteAtIndex').value);

            if (linkedList.length === 0) {
                addToHistory('List is empty. Nothing to delete.', 'info');
                operationStatus.textContent = 'List is empty';
                closeAllModals();
                return;
            }

            if (isNaN(index) || index < 0 || index >= linkedList.length) {
                showError('deleteAtIndexError');
                return;
            }

            // Handle edge cases
            if (index === 0) {
                deleteHead();
                closeAllModals();
                return;
            } else if (index === linkedList.length - 1) {
                deleteTail();
                closeAllModals();
                return;
            }

            const deletedValue = linkedList[index].value;

            // Highlight the node to be deleted
            const nodes = linkedListContainer.querySelectorAll('.node');
            if (nodes[index]) {
                nodes[index].classList.add('deleted');

                // Remove the node after animation
                setTimeout(() => {
                    // Update existing nodes
                    for (let i = 0; i < linkedList.length; i++) {
                        if (linkedList[i].next !== null && linkedList[i].next > index) linkedList[i].next--;
                        if (linkedList[i].prev !== null && linkedList[i].prev > index) linkedList[i].prev--;
                    }

                    // Update the node before the deletion point
                    linkedList[index - 1].next = index;

                    // Remove the node
                    linkedList.splice(index, 1);

                    updateListInfo();
                    renderLinkedList();
                }, 500);
            }

            addToHistory(`Deleted value ${deletedValue} from index ${index}. The list now has ${linkedList.length - 1} nodes.`, 'delete');
            operationStatus.textContent = `Deleted ${deletedValue} from index ${index}`;

            // Clear input and close modal
            document.getElementById('deleteAtIndex').value = '';
            closeAllModals();
            updateMotivationalMessage();
        }

        // Search value
        function searchValue() {
            const value = parseInt(document.getElementById('searchValue').value);

            if (isNaN(value) || value < 1 || value > 99) {
                showError('searchValueError');
                return;
            }

            if (linkedList.length === 0) {
                addToHistory('List is empty. Nothing to search.', 'info');
                operationStatus.textContent = 'List is empty';
                closeAllModals();
                return;
            }

            addToHistory(`Searching for value ${value} in the list...`, 'search');
            operationStatus.textContent = `Searching for ${value}`;

            // Sequential search with highlighting
            const nodes = linkedListContainer.querySelectorAll('.node');
            let found = false;
            let i = 0;

            function searchStep() {
                if (i < linkedList.length) {
                    // Remove previous highlights
                    nodes.forEach(node => {
                        node.classList.remove('searching', 'found');
                    });

                    // Highlight current node
                    nodes[i].classList.add('searching');

                    addToHistory(`Checking node at position ${i}: value is ${linkedList[i].value}. ${linkedList[i].value === value ? 'Match found!' : 'Not a match, continuing search...'}`, 'search');

                    if (linkedList[i].value === value) {
                        nodes[i].classList.remove('searching');
                        nodes[i].classList.add('found');
                        addToHistory(`Value ${value} found at position ${i}! Search completed.`, 'search');
                        operationStatus.textContent = `Found ${value} at position ${i}`;
                        found = true;
                        closeAllModals();
                        createConfetti();
                        return;
                    }

                    i++;
                    setTimeout(searchStep, animationSpeed);
                } else {
                    // Value not found
                    if (!found) {
                        addToHistory(`Value ${value} not found in the list. Search completed.`, 'search');
                        operationStatus.textContent = `${value} not found`;
                        closeAllModals();
                    }
                }
            }

            searchStep();

            // Clear input
            document.getElementById('searchValue').value = '';
            updateMotivationalMessage();
        }

        // Reverse list
        function reverseList() {
            if (linkedList.length <= 1) {
                addToHistory('List has 0 or 1 nodes. No need to reverse.', 'info');
                operationStatus.textContent = 'List unchanged';
                return;
            }

            // Reverse the array
            linkedList.reverse();

            // Update pointers
            for (let i = 0; i < linkedList.length; i++) {
                if (i < linkedList.length - 1) {
                    linkedList[i].next = i + 1;
                } else {
                    linkedList[i].next = listType === 'circular' ? 0 : null;
                }

                if (listType === 'doubly') {
                    if (i > 0) {
                        linkedList[i].prev = i - 1;
                    } else {
                        linkedList[i].prev = listType === 'circular' ? linkedList.length - 1 : null;
                    }
                }
            }

            updateListInfo();
            renderLinkedList();
            addToHistory('List has been reversed.', 'update');
            operationStatus.textContent = 'List reversed';
            updateMotivationalMessage();
            createConfetti();
        }

        // Clear list
        function clearList() {
            linkedList = [];
            updateListInfo();
            renderLinkedList();
            addToHistory('List has been cleared. It is now empty.', 'info');
            operationStatus.textContent = 'List cleared';
            updateMotivationalMessage();
        }

        // Update animation speed
        function updateSpeed() {
            const speed = parseInt(animationSpeedSlider.value);

            switch (speed) {
                case 1:
                    animationSpeed = 1000;
                    speedValue.textContent = 'Very Slow';
                    break;
                case 2:
                    animationSpeed = 750;
                    speedValue.textContent = 'Slow';
                    break;
                case 3:
                    animationSpeed = 500;
                    speedValue.textContent = 'Medium';
                    break;
                case 4:
                    animationSpeed = 250;
                    speedValue.textContent = 'Fast';
                    break;
                case 5:
                    animationSpeed = 100;
                    speedValue.textContent = 'Very Fast';
                    break;
            }
        }

        // Render linked list visualization
        function renderLinkedList() {
            linkedListContainer.innerHTML = '';
            listLengthDisplay.textContent = linkedList.length;

            if (linkedList.length === 0) {
                linkedListContainer.innerHTML = `
                    <div class="empty-state">
                        <p>Your linked list is empty. Add some nodes to get started!</p>
                    </div>
                `;
                return;
            }

            linkedList.forEach((node, index) => {
                const nodeElement = document.createElement('div');
                nodeElement.className = 'node';

                const valueElement = document.createElement('div');
                valueElement.className = 'node-value';
                valueElement.textContent = node.value;

                nodeElement.appendChild(valueElement);

                // Add pointers based on list type
                if (listType === 'singly') {
                    if (node.next !== null) {
                        const pointer = document.createElement('div');
                        pointer.className = 'node-pointer';
                        nodeElement.appendChild(pointer);
                    } else {
                        const nullElement = document.createElement('div');
                        nullElement.className = 'null-node';
                        nullElement.textContent = 'NULL';
                        nodeElement.appendChild(nullElement);
                    }
                } else if (listType === 'doubly') {
                    if (index === 0) {
                        // First node
                        const nullElement = document.createElement('div');
                        nullElement.className = 'null-node';
                        nullElement.textContent = 'NULL';
                        nodeElement.insertBefore(nullElement, valueElement);
                        
                        if (node.next !== null) {
                            const pointer = document.createElement('div');
                            pointer.className = 'doubly-pointer';
                            nodeElement.appendChild(pointer);
                        } else {
                            const nullElement = document.createElement('div');
                            nullElement.className = 'null-node';
                            nullElement.textContent = 'NULL';
                            nodeElement.appendChild(nullElement);
                        }
                    } else if (index === linkedList.length - 1) {
                        // Last node
                        if (node.prev !== null) {
                            const pointer = document.createElement('div');
                            pointer.className = 'doubly-pointer';
                            nodeElement.insertBefore(pointer, valueElement);
                        }
                        
                        const nullElement = document.createElement('div');
                        nullElement.className = 'null-node';
                        nullElement.textContent = 'NULL';
                        nodeElement.appendChild(nullElement);
                    } else {
                        // Middle node
                        const pointerLeft = document.createElement('div');
                        pointerLeft.className = 'doubly-pointer';
                        nodeElement.insertBefore(pointerLeft, valueElement);
                        
                        const pointerRight = document.createElement('div');
                        pointerRight.className = 'doubly-pointer';
                        nodeElement.appendChild(pointerRight);
                    }
                } else if (listType === 'circular') {
                    const pointer = document.createElement('div');
                    pointer.className = 'node-pointer';
                    nodeElement.appendChild(pointer);
                    
                    // Add circular connector for the last node
                    if (index === linkedList.length - 1) {
                        const connector = document.createElement('div');
                        connector.className = 'circular-connector';
                        nodeElement.appendChild(connector);
                    }
                }

                linkedListContainer.appendChild(nodeElement);
            });
        }

        // Update list information
        function updateListInfo() {
            currentListType.textContent = getListTypeName();
            headValue.textContent = linkedList.length > 0 ? linkedList[0].value : 'None';
            tailValue.textContent = linkedList.length > 0 ? linkedList[linkedList.length - 1].value : 'None';
            listLength.textContent = linkedList.length;
        }

        // Get list type name
        function getListTypeName() {
            switch (listType) {
                case 'singly': return 'Singly Linked List';
                case 'doubly': return 'Doubly Linked List';
                case 'circular': return 'Circular Linked List';
                default: return 'Linked List';
            }
        }

        // Add to operation history
        function addToHistory(text, type) {
            const step = document.createElement('div');
            step.className = `step ${type}`;
            step.innerHTML = `<strong>${new Date().toLocaleTimeString()}:</strong> ${text}`;

            explanationContent.insertBefore(step, explanationContent.firstChild);

            // Limit history to 20 items
            if (explanationContent.children.length > 20) {
                explanationContent.removeChild(explanationContent.lastChild);
            }

            operationHistory.unshift({ text, type, time: new Date() });
        }

        // Clear operation history
        function clearOperationHistory() {
            explanationContent.innerHTML = '<div class="step">Operation history cleared</div>';
            operationHistory = [];
        }

        // Toggle theme
        function toggleTheme() {
            document.body.classList.toggle('dark-theme');

            if (document.body.classList.contains('dark-theme')) {
                themeToggle.innerHTML = '<i class="fas fa-sun"></i> <span>Light Mode</span>';
                document.body.style.background = 'linear-gradient(135deg, #0f172a, #1e293b, #334155)';
            } else {
                themeToggle.innerHTML = '<i class="fas fa-moon"></i> <span>Dark Mode</span>';
                document.body.style.background = 'linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d)';
            }
        }

        // Update motivational message
        function updateMotivationalMessage() {
            const randomIndex = Math.floor(Math.random() * motivationalMessages.length);
            motivationalMessage.textContent = motivationalMessages[randomIndex];
        }

        // Create confetti animation
        function createConfetti() {
            celebration.style.display = 'block';
            celebration.innerHTML = '';
            
            const colors = ['#ff9a9e', '#fad0c4', '#a1c4fd', '#c2e9fb', '#ffecd2', '#fcb69f'];
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animation = `fall ${Math.random() * 3 + 2}s linear forwards`;
                confetti.style.opacity = '1';
                
                celebration.appendChild(confetti);
            }
            
            // Hide confetti after animation
            setTimeout(() => {
                celebration.style.display = 'none';
            }, 3000);
        }

        // Add fall animation for confetti
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fall {
                0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
                100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // Modal functions
        function openModal(operation) {
            closeAllModals();

            // Reset error messages
            document.querySelectorAll('.error-message').forEach(error => {
                error.style.display = 'none';
            });

            switch (operation) {
                case 'insertHead':
                    insertHeadModal.style.display = 'flex';
                    break;
                case 'insertTail':
                    insertTailModal.style.display = 'flex';
                    break;
                case 'insertAt':
                    insertAtModal.style.display = 'flex';
                    break;
                case 'deleteAt':
                    deleteAtModal.style.display = 'flex';
                    break;
                case 'search':
                    searchModal.style.display = 'flex';
                    break;
            }
        }

        function closeAllModals() {
            document.querySelectorAll('.modal').forEach(modal => {
                modal.style.display = 'none';
            });
        }

        // Error handling functions
        function showError(errorId) {
            document.getElementById(errorId).style.display = 'block';
        }
    </script>
</body>
</html>